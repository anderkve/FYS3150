
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Apptainer &#8212; FYS3150/FYS4150 course material</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'book/containerization/apptainer';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Introduction to LaTeX" href="../writing_reports/introduction_to_latex.html" />
    <link rel="prev" title="Introduction to containers" href="intro_to_containers.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">FYS3150/FYS4150 course material</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting ready</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../getting_ready/windows_users.html">Windows users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_ready/mac_users.html">Mac users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_ready/linux_users.html">Linux users</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using the terminal</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../using_the_terminal/basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_the_terminal/keyboard_shortcuts.html">Keyboard shortcuts</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using Git and GitHub</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../using_git/introduction_to_git.html">Introduction to Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/setting_up_a_UiO_GitHub_repo.html">Setting up a UiO GitHub repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/add_a_README_and_gitignore.html">Add a README and gitignore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/using_git.html">Using Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/prevent_tracking_of_very_large_files.html">Prevent the tracking of very large files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/dealing_with_merge_conflicts.html">Dealing with merge conflicts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/recover_an_old_version_of_a_file.html">Recover an old version of a file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/other_ways_to_fix_mistakes.html">Other ways to fix mistakes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_git/online_resources.html">Online git resources</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction to C++</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/intro.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/hello_world.html">Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/compiling_and_linking.html">Compiling and linking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/source_files_and_header_files.html">Source files and header files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/code_structure.html">Code structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/if_else.html">If else</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/loops.html">Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/read_command_line_input.html">Read command line input</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/write_to_file.html">Write to file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/read_from_file.html">Read from file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/intro_to_armadillo.html">Introduction to Armadillo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/pointers.html">Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/classes.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction_to_cpp/online_resources.html">Online C++ resources</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Optimization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../optimization/memory_is_the_bottleneck.html">Memory traffic is the bottleneck</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Parallelization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../parallelization/introduction_to_openmp.html">Introduction to OpenMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parallelization/using_openmp.html">Using OpenMP</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using Make</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../using_make/intro.html">Intro</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Containerization</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro_to_containers.html">Introduction to containers</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Apptainer</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Writing reports</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../writing_reports/introduction_to_latex.html">Introduction to LaTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_reports/project_templates.html">Project templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_reports/checklist.html">Checklist for reports</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../projects/project1.html">Project 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/project2.html">Project 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/project3.html">Project 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/project4.html">Project 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/project5.html">Project 5</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/anderkve/FYS3150" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/anderkve/FYS3150/issues/new?title=Issue%20on%20page%20%2Fbook/containerization/apptainer.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/book/containerization/apptainer.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Apptainer</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">Getting Started</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-apptainer-installation">Step 1: Apptainer Installation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-windows">Installation on Windows</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-mac">Installation on Mac</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-linux">Installation on Linux</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-obtaining-the-apptainer-image">Step 2: Obtaining the Apptainer Image</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-format-sif">Image Format (.sif)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#download-image-from-course-github-page">Download Image from Course GitHub Page</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-running-the-image">Step 3: Running the Image</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-files-outside-the-container">Accessing Files Outside the Container</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-with-bind-mount">Example with Bind Mount</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#support">Support</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="apptainer">
<h1>Apptainer<a class="headerlink" href="#apptainer" title="Link to this heading">#</a></h1>
<p>Within the context of this course, there are a number of dependencies required to develop code for the projects (such as <code class="docutils literal notranslate"><span class="pre">g++</span></code> for compilation, <code class="docutils literal notranslate"><span class="pre">git</span></code> for version control, <code class="docutils literal notranslate"><span class="pre">Armadillo</span></code>, <code class="docutils literal notranslate"><span class="pre">OpenMP</span></code>, etc.). The instructors have put together an image (essentially the blueprint for a container) which wraps all of these together, using the application <a class="reference external" href="https://apptainer.org/docs/user/latest/introduction.html">Apptainer</a>.</p>
<p>This guide will help you set up and run this Apptainer image for the course on your machine, whether you’re using Linux, Windows, or macOS (Intel or ARM architecture).</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">#</a></h2>
<section id="step-1-apptainer-installation">
<h3>Step 1: Apptainer Installation<a class="headerlink" href="#step-1-apptainer-installation" title="Link to this heading">#</a></h3>
<p>Apptainer is primarily designed to run natively on Linux systems, because it leverages key Linux kernel features such as namespaces and control groups to provide containerization. Therefore, non-Linux systems (i.e. Windows and macOS) require an additional layer to create a virtualized or emulated Linux environment.</p>
<section id="installation-on-windows">
<h4>Installation on Windows<a class="headerlink" href="#installation-on-windows" title="Link to this heading">#</a></h4>
<p>On Windows, the Linux environment is handled by WSL. Therefore, once it is installed (see <a class="reference internal" href="../getting_ready/windows_users.html#sec-windows-users"><span class="std std-ref">Windows users</span></a>), you can follow the instructions for installation on Linux below.</p>
</section>
<section id="installation-on-mac">
<h4>Installation on Mac<a class="headerlink" href="#installation-on-mac" title="Link to this heading">#</a></h4>
<p>On Mac, the recommended path to setting up a Linux environment is through <a class="reference external" href="https://lima-vm.io/docs/">Lima</a>, which is a lightweight virtual machine manager designed to run Linux environments efficiently on macOS.</p>
<p>The first step to working with Lima is to install it with Homebrew (see <a class="reference internal" href="../getting_ready/mac_users.html#sec-installation-of-basic-software"><span class="std std-ref">installation of basic software</span></a> if you haven’t yet installed the Homebrew package manager on your machine):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>lima
</pre></div>
</div>
<p>Next, run the following command to initialize a new Linux VM specifically configured to work with Apptainer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>limactl<span class="w"> </span>start<span class="w"> </span>template://apptainer
</pre></div>
</div>
<p>Out-of-the-box, this preset template for configuring Lima to work with Apptainer sets the file system in the Linux environment to read-only. In order to allow your Mac home directory to be writable from within the Linux environment, open the Lima configuration file located at <code class="docutils literal notranslate"><span class="pre">~/.lima/apptainer/lima.yaml</span></code> and add/edit the following lines under <code class="docutils literal notranslate"><span class="pre">mounts:</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mounts:
-<span class="w"> </span>location:<span class="w"> </span><span class="s2">&quot;~&quot;</span>
<span class="w">  </span>writable:<span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
<p>In order for the changes to take effect, the VM needs to be stopped and then restarted:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>limactl<span class="w"> </span>stop<span class="w"> </span>apptainer
limactl<span class="w"> </span>start<span class="w"> </span>apptainer
</pre></div>
</div>
<p>Finally, for accessing a shell environment in the VM to begin using Apptainer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>limactl<span class="w"> </span>shell<span class="w"> </span>apptainer
</pre></div>
</div>
<p>From inside this apptainer VM, it will now be possible to run the image (following step 3 below, once the image is obtained from step 2).</p>
<p>In order to exit the VM shell, simply type <code class="docutils literal notranslate"><span class="pre">exit</span></code>.</p>
</section>
<section id="installation-on-linux">
<h4>Installation on Linux<a class="headerlink" href="#installation-on-linux" title="Link to this heading">#</a></h4>
<p>There are several different ways to install Apptainer on Linux, which are all described in the Apptainer documentation <a class="reference external" href="https://apptainer.org/docs/admin/main/installation.html#installation-on-linux">here</a>.</p>
<p>In particular, it can be installed from <a class="reference external" href="https://apptainer.org/docs/admin/main/installation.html#install-from-pre-built-packages">pre-built packages</a> (e.g. for <a class="reference external" href="https://apptainer.org/docs/admin/main/installation.html#install-ubuntu-packages">Ubuntu</a>, the default distribution in WSL).</p>
<p>It can also be built and installed from source, by following the instructions in <a class="reference external" href="https://github.com/apptainer/apptainer/blob/main/INSTALL.md">INSTALL.md</a> on GitHub.</p>
</section>
</section>
<section id="step-2-obtaining-the-apptainer-image">
<h3>Step 2: Obtaining the Apptainer Image<a class="headerlink" href="#step-2-obtaining-the-apptainer-image" title="Link to this heading">#</a></h3>
<section id="image-format-sif">
<h4>Image Format (.sif)<a class="headerlink" href="#image-format-sif" title="Link to this heading">#</a></h4>
<p>Unlike Docker images which are published on Docker Hub, Apptainer uses the Singularity Image Format (SIF) for container images. These <code class="docutils literal notranslate"><span class="pre">.sif</span></code> files are fully encapsulated, single-file containers. This design is tailored for High Performance Computing (HPC) environments where simplicity and portability are crucial.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">.sif</span></code> file contains the entire container image, including its filesystem, metadata, and definition (like recipes or dependencies). The whole image is self-contained, allowing easy transfer and access across different systems without relying on runtime daemons (like Docker’s <code class="docutils literal notranslate"><span class="pre">dockerd</span></code>) or complex architectures.</p>
</section>
<section id="download-image-from-course-github-page">
<h4>Download Image from Course GitHub Page<a class="headerlink" href="#download-image-from-course-github-page" title="Link to this heading">#</a></h4>
<p>Navigate to the <a class="reference external" href="https://github.com/anderkve/FYS3150/releases">releases page</a> for the FYS3150 repository in GitHub. There, you will see a list of the apptainer image versions, each with their own “assets”. Click on the <code class="docutils literal notranslate"><span class="pre">.sif</span></code> file corresponding to the architecture of your machine in the name (either <code class="docutils literal notranslate"><span class="pre">x86</span></code> or <code class="docutils literal notranslate"><span class="pre">arm</span></code>) to download it.</p>
<p>Once the image (file ending in <code class="docutils literal notranslate"><span class="pre">.sif</span></code>) is downloaded, you should move it to a location where it’s convenient to access it such as your home folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mv</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">downloads</span><span class="o">/</span><span class="n">folder</span><span class="o">/&lt;</span><span class="n">name_of_image</span><span class="o">.</span><span class="n">sif</span><span class="o">&gt;</span> <span class="o">~</span>
</pre></div>
</div>
<p><strong>N.B.</strong> - You can also put it directly in the folder where you’re writing your code (the one under version control), but in this case it’s advisable to add the image to the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> list (see the description in the section on <a class="reference internal" href="../using_git/add_a_README_and_gitignore.html#sec-gitignore"><span class="std std-ref">gitignore</span></a> if you haven’t set one up) so that it’s not mistakenly added to your repository. Since the image is a few hundred MB in size, UiO GitHub will reject it being pushed to the server (similar to other large files that can be generated in the projects of the course).</p>
</section>
</section>
<section id="step-3-running-the-image">
<h3>Step 3: Running the Image<a class="headerlink" href="#step-3-running-the-image" title="Link to this heading">#</a></h3>
<p>To run an interactive session within the Apptainer container:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apptainer<span class="w"> </span>shell<span class="w"> </span>&lt;name_of_image.sif&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;name_of_image.sif&gt;</span></code> is replaced by the name of the image that you downloaded in the previous step.</p>
<p>Upon running the container, your terminal should display a customized environment prompt within the container.</p>
<p>In order to exit the container, simply type <code class="docutils literal notranslate"><span class="pre">exit</span></code>.</p>
</section>
</section>
<section id="accessing-files-outside-the-container">
<h2>Accessing Files Outside the Container<a class="headerlink" href="#accessing-files-outside-the-container" title="Link to this heading">#</a></h2>
<p>By default, the container should provide you with an environment fully equipped to develop and run the code required for this course. However, the contents of the container are designed to be transient and will therefore be deleted once the container is removed.</p>
<p>In order to access or share files within your container, it is possible to “mount” directories from your file system, binding them to a directory from within the container.</p>
<p>By default, Apptainer already binds your home directory with the same path so that it’s already available within the container.</p>
<blockquote>
<div><p><strong>N.B.</strong> - this will be your Linux home directory (the one set up for you by WSL on Windows or by Lima on Mac)</p>
</div></blockquote>
<p>Below are are the commands to mount additional directories when opening the container (e.g. your Mac home directory if you’re on a Mac - this is less applicable to Windows users since the recommendation there that you’re already working from your Linux home directory through WSL):</p>
<section id="example-with-bind-mount">
<h3>Example with Bind Mount<a class="headerlink" href="#example-with-bind-mount" title="Link to this heading">#</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apptainer<span class="w"> </span>shell<span class="w"> </span>--bind<span class="w"> </span>/path/on/host:/path/in/container<span class="w"> </span>fys3150_comp_phys_env_x86.sif
</pre></div>
</div>
<p>or for ARM architecture</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apptainer<span class="w"> </span>shell<span class="w"> </span>--bind<span class="w"> </span>/path/on/host:/path/in/container<span class="w"> </span>fys3150_comp_phys_env_arm.sif
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Replace</strong> <code class="docutils literal notranslate"><span class="pre">/path/on/host</span></code> with the absolute path on your machine.</p></li>
<li><p><strong>Replace</strong> <code class="docutils literal notranslate"><span class="pre">/path/in/container</span></code> with where you want it mounted within the container.</p></li>
</ul>
</section>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading">#</a></h2>
<p>The aim with these containers is to alleviate the various technical issues that are often encountered in this course by providing an environment that is more consistent across different platforms. That said, while the containerized workflow outlined above should remove most of the usual platform-specific technical issues, it should also (for the time being) be considered in the experimental phase of development. Therefore, any feedback on issues (or even just your experience) related to the containerized workflow are very much welcome via the <a class="reference external" href="https://github.uio.no/anderkve/FYS3150-forum/issues">course discussion forum</a> or by direct email to the course instructors.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./book/containerization"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro_to_containers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction to containers</p>
      </div>
    </a>
    <a class="right-next"
       href="../writing_reports/introduction_to_latex.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction to LaTeX</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">Getting Started</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-apptainer-installation">Step 1: Apptainer Installation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-windows">Installation on Windows</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-mac">Installation on Mac</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-on-linux">Installation on Linux</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-obtaining-the-apptainer-image">Step 2: Obtaining the Apptainer Image</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-format-sif">Image Format (.sif)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#download-image-from-course-github-page">Download Image from Course GitHub Page</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-running-the-image">Step 3: Running the Image</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-files-outside-the-container">Accessing Files Outside the Container</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-with-bind-mount">Example with Bind Mount</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#support">Support</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By the FYS3150 teaching team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>